/* 容器样式 */
.time-grid-container {
	--tg-bg: var(--background-secondary);
	--tg-panel-bg: var(--background-primary);
	--tg-text: var(--text-normal);
	--tg-muted: var(--text-muted);
	--tg-border: var(--background-modifier-border);
	--tg-accent: var(--interactive-accent);
	--tg-cell-size: 20px;
	--tg-minute-size: 16px;
	--tg-panel-radius: 8px;
	--tg-cell-radius: 4px;
	--tg-module-padding: 16px;
	--tg-gap: 12px;

	background: var(--tg-bg);
	color: var(--tg-text);
	padding: 12px;
	height: 100%;
	overflow-y: auto;
}

.time-grid-wrapper {
	display: flex;
	flex-direction: column;
	gap: var(--tg-gap);
}

/* 模块通用样式 */
.time-grid-module {
	background: var(--tg-panel-bg);
	border-radius: var(--tg-panel-radius);
	padding: var(--tg-module-padding);
	border: 1px solid var(--tg-border);
}

.module-header {
	display: flex;
	justify-content: space-between;
	align-items: center;
	margin-bottom: 12px;
	gap: 8px;
}

.module-header.clickable {
	cursor: pointer;
}

.module-title {
	font-size: 14px;
	font-weight: 600;
	color: var(--tg-text);
}

.time-display {
	font-size: 12px;
	color: var(--tg-muted);
	font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

.tg-icon {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	color: var(--tg-muted);
}

.tg-icon svg {
	width: 16px;
	height: 16px;
	fill: currentColor;
}

/* 月热力图 */
.heatmap-grid {
	display: grid;
	grid-template-columns: repeat(7, minmax(0, 1fr));
	gap: 4px;
	width: 100%;
}

.week-label {
	text-align: center;
	font-size: 10px;
	color: var(--tg-muted);
	padding: 4px 0;
}

.day-cell {
	aspect-ratio: 1;
	border-radius: var(--tg-cell-radius);
	display: flex;
	align-items: center;
	justify-content: center;
	font-size: 11px;
	font-weight: 600;
	transition: all 0.2s ease;
}

.day-cell.clickable {
	cursor: pointer;
}

.day-cell.past {
	background: var(--tg-text);
	color: var(--tg-panel-bg);
}

.day-cell.current {
	background: var(--tg-panel-bg);
	color: var(--tg-text);
	border: 2px solid var(--tg-accent);
}

.day-cell.future {
	background: var(--tg-panel-bg);
	color: var(--tg-text);
	border: 1px solid var(--tg-border);
}

.day-cell.empty {
	visibility: hidden;
}

/* 24H 网格 */
.day-grid-container {
	display: grid;
	grid-template-columns: repeat(6, minmax(0, 1fr));
	gap: 4px;
	width: 100%;
}

.hour-cell {
	height: 18px;
	border-radius: var(--tg-cell-radius);
	display: flex;
	align-items: center;
	justify-content: center;
	font-size: 10px;
	font-weight: 600;
	transition: all 0.2s ease;
}

.hour-cell.past {
	background: var(--tg-text);
	color: var(--tg-panel-bg);
}

.hour-cell.current {
	background: var(--tg-panel-bg);
	color: var(--tg-text);
	border: 2px solid var(--tg-accent);
}

.hour-cell.future {
	background: var(--tg-panel-bg);
	color: var(--tg-text);
	border: 1px solid var(--tg-border);
}

/* 60m 网格 */
.hour-grid-container {
	display: grid;
	grid-template-columns: repeat(10, minmax(0, 1fr));
	gap: 3px;
	width: 100%;
}

.minute-cell {
	height: 14px;
	border-radius: 3px;
	transition: all 0.2s ease;
}

.minute-cell.past {
	background: var(--tg-text);
}

.minute-cell.current {
	background: var(--tg-panel-bg);
	border: 2px solid var(--tg-accent);
}

.minute-cell.future {
	background: var(--tg-panel-bg);
	border: 1px solid var(--tg-border);
}

/* 扇形图 */
.tg-pie-module {
	padding-bottom: 12px;
}

.tg-pie-body {
	display: flex;
	flex-direction: column;
	gap: 10px;
	align-items: center;
}

.tg-pie-chart {
	display: flex;
	align-items: center;
	justify-content: center;
}

.tg-pie {
	width: 140px;
	height: 140px;
}

.tg-pie-slice {
	stroke: var(--tg-panel-bg);
	stroke-width: 1;
}

.tg-pie-slice-0 { fill: var(--color-red); }
.tg-pie-slice-1 { fill: var(--color-orange); }
.tg-pie-slice-2 { fill: var(--color-yellow); }
.tg-pie-slice-3 { fill: var(--color-green); }
.tg-pie-slice-4 { fill: var(--color-cyan); }
.tg-pie-slice-5 { fill: var(--color-blue); }
.tg-pie-slice-6 { fill: var(--color-purple); }
.tg-pie-slice-7 { fill: var(--color-pink); }
.tg-pie-slice-muted { fill: var(--background-modifier-border-hover, var(--tg-border)); }

.tg-pie-legend {
	display: grid;
	grid-template-columns: repeat(2, minmax(0, 1fr));
	gap: 8px 12px;
	width: 100%;
}

.tg-pie-legend-row {
	display: grid;
	grid-template-columns: 12px 1fr auto auto;
	gap: 6px;
	align-items: center;
	font-size: 12px;
	color: var(--tg-muted);
	padding: 6px 8px;
	border-radius: 999px;
	border: 1px solid var(--tg-border);
	background: var(--background-secondary);
	transition: transform 0.15s ease, box-shadow 0.15s ease, background 0.15s ease;
}

.tg-pie-legend-swatch {
	width: 12px;
	height: 12px;
	border-radius: 2px;
}

.tg-pie-legend-label,
.tg-pie-legend-value,
.tg-pie-legend-percent {
	color: inherit;
	font-variant-numeric: tabular-nums;
}

.tg-pie-legend-row-active {
	font-weight: 700;
	transform: scale(1.04);
	transform-origin: left center;
	box-shadow: 0 2px 10px rgba(0, 0, 0, 0.12);
}

.tg-pie-legend-color-0 { color: var(--color-red); }
.tg-pie-legend-color-1 { color: var(--color-orange); }
.tg-pie-legend-color-2 { color: var(--color-yellow); }
.tg-pie-legend-color-3 { color: var(--color-green); }
.tg-pie-legend-color-4 { color: var(--color-cyan); }
.tg-pie-legend-color-5 { color: var(--color-blue); }
.tg-pie-legend-color-6 { color: var(--color-purple); }
.tg-pie-legend-color-7 { color: var(--color-pink); }
.tg-pie-legend-color-muted { color: var(--tg-muted); }

.tg-pie-empty {
	margin-top: 8px;
	font-size: 12px;
	color: var(--tg-muted);
	text-align: center;
}
